---
title: "CITS5507 Project 1: Parallel implementation of search based on Fish School Behaviour"

graphics: yes
author: Kaiqi Liang (23344153), Briana Davies-Morrell (22734723)
date: "Semester 2, 2023"

output:
  html_document:
    number_sections: true
---

```{r, message=FALSE, warning=FALSE, echo=FALSE}
library(ggplot2)
```

# Experimenting with Number of Threads 
Fix everything but number of threads - need to do 2 and 1 
```{r, message=FALSE, warning=FALSE, echo=FALSE}
ggplot(
    data.frame(num_threads = c(0, 2, 4, 8, 16), time = c(2780.588561, 3471.353496, 2925.219894, 2929.350958, 3000.694720)),
    aes(x = num_threads, y = time)) +
    labs(x = "Number of Threads", y = "Time (s)") +
    geom_point() +
    geom_smooth()
```


# Experimenting with Number of Fish & Iterations 

default, no scheduling 
set at 4 threads 
change iterations AND fish 

```{r, message=FALSE, warning=FALSE, echo=FALSE}

ggplot(
  data = data.frame(
    num_fish =  c(200000, 400000, 600000, 800000, 1000000),
    iter_20000 = c(1,1,1,482.203047, 653.402037),
    iter_40000 = c(1,1,1,1,1),
    iter_60000 = c(1,1,1,1,1),
    iter_80000 = c(1,1,1,1,1),
    iter_100000 = c(1, 1, 1, 1, 1)),
  aes(x = num_fish)) +
  geom_smooth(aes(y = iter_20000, color = "20000")) +
  geom_smooth(aes(y = iter_40000, color = "40000")) +
  geom_smooth(aes(y = iter_60000, color = "60000")) +
  geom_smooth(aes(y = iter_80000, color = "80000")) +
  geom_smooth(aes(y = iter_100000, color = "100000")) +

  geom_point(aes(y = iter_20000)) +
  geom_point(aes(y = iter_40000)) +
  geom_point(aes(y = iter_60000)) +
  geom_point(aes(y = iter_80000)) +
  geom_point(aes(y = iter_100000)) +
  labs(x = "Number of Fish",
    y = "Time (s)",
    color = "Number of Iterations") +
  scale_color_manual(values = c(
    "20000" = "darkred",
    "40000" = "steelblue",
    "60000" = "magenta",
    "80000" = "darkgreen",
    "100000" = "pink4"))
```
# Experimenting with Number of Iterations 

# Briana
Fix everything but number of steps . e,g, for four threads
2,4,6,8,10

```{r, message=FALSE, warning=FALSE, echo=FALSE}
ggplot(
  data.frame(num_rounds = c(1, 2, 4), time = c(12.2, 10, 8)),
  aes(x = num_rounds, y = time)) +
  labs(x = "Number of Rounds", y = "Time (s)") +
  geom_point() +
  geom_smooth()
```

# Briana 
Fix everything but fish
```{r, message=FALSE, warning=FALSE, echo=FALSE}
ggplot(
  data = data.frame(
    fish = c(1, 2, 4),
    thread_1 = c(12.2, 10, 8),
    thread_2 = c(8.0, 3.0, 4.0)),
  aes(x = fish)) +
  geom_smooth(aes(y = thread_1, color = "1 Thread")) +
  geom_smooth(aes(y = thread_2, color = "2 Thread")) +
  geom_point(aes(y = thread_1)) +
  geom_point(aes(y = thread_2)) +
  labs(x = "Number of Fish",
    y = "Time (s)",
    color = "Number of Threads") +
  scale_color_manual(values = c(
    "1 Thread" = "darkred",
    "2 Thread" = "steelblue"))
```


# Kaiqi 
Fix schedule & threads, change chunk size 
Fix everything but number of threads for different scheduling types
```{r, message=FALSE, warning=FALSE, echo=FALSE}
ggplot(
  data = data.frame(
    threads = c(1, 2, 4),
    static = c(12.2, 10, 8),
    dynamic = c(8.0, 5.0, 4.0),
    guided = c(4.0, 3.0, 2.0),
    runtime = c(1.0, 0.5, 0.3)),
  aes(x = threads)) +
  geom_smooth(aes(y = static, color = "static")) +
  geom_smooth(aes(y = dynamic, color = "dynamic")) +
  geom_smooth(aes(y = guided, color = "guided")) +
  geom_smooth(aes(y = runtime, color = "runtime")) +
  geom_point(aes(y = static)) +
  geom_point(aes(y = dynamic)) +
  geom_point(aes(y = guided)) +
  geom_point(aes(y = runtime)) +
  labs(x = "Number of Fish",
    y = "Time (s)",
    color = "Scheduling Type") +
  scale_color_manual(values = c(
    "static" = "darkred",
    "dynamic" = "steelblue",
    "guided" = "magenta",
    "runtime" = "darkgreen"))
```

Fix everything but different implementation of tasks vs partition and simple parallel for
